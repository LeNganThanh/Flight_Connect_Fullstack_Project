{"ast":null,"code":"import axios from \"axios\";\nconst CancelToken = axios.CancelToken;\n\n// This function allow you to make GET request to backend with params we need\nexport const getAmadeusData = params => {\n  // Destructuring params\n  const {\n    keyword = \"\",\n    page = 0,\n    city = true,\n    airport = true\n  } = params;\n\n  // Checking for proper subType \n  const subTypeCheck = city && airport ? \"CITY,AIRPORT\" : city ? \"CITY\" : airport ? \"AIRPORT\" : \"\";\n\n  // Amadeus API require at least 1 character, so with this we can be sure that we can make this request\n  const searchQuery = keyword ? keyword : \"a\";\n\n  // This is extra tool for cancelation request, to avoid overload API \n  const source = CancelToken.source();\n\n  // GET request with all params we need\n  const out = axios.get(`http:localhost:4000/api/airports/?keyword=${searchQuery}&page=${page}&subType=${subTypeCheck}`, {\n    cancelToken: source.token\n  });\n  return {\n    out,\n    source\n  };\n};","map":{"version":3,"names":["axios","CancelToken","getAmadeusData","params","keyword","page","city","airport","subTypeCheck","searchQuery","source","out","get","cancelToken","token"],"sources":["/Users/basheerkattan/Public/Flight-Connect/react/src/api/amadeus.api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst CancelToken = axios.CancelToken;\n\n// This function allow you to make GET request to backend with params we need\nexport const getAmadeusData = params => {\n\n  // Destructuring params\n  const { keyword = \"\", page = 0, city = true, airport = true } = params;\n\n  // Checking for proper subType \n  const subTypeCheck = city && airport ? \"CITY,AIRPORT\" : city ? \"CITY\" : airport ? \"AIRPORT\" : \"\"\n\n  // Amadeus API require at least 1 character, so with this we can be sure that we can make this request\n  const searchQuery = keyword ? keyword : \"a\";\n\n  // This is extra tool for cancelation request, to avoid overload API \n  const source = CancelToken.source();\n\n  // GET request with all params we need\n  const out = axios.get(\n    `http:localhost:4000/api/airports/?keyword=${searchQuery}&page=${page}&subType=${subTypeCheck}`,\n    {\n      cancelToken: source.token\n    }\n  )\n\n  return { out, source }\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGD,KAAK,CAACC,WAAW;;AAErC;AACA,OAAO,MAAMC,cAAc,GAAGC,MAAM,IAAI;EAEtC;EACA,MAAM;IAAEC,OAAO,GAAG,EAAE;IAAEC,IAAI,GAAG,CAAC;IAAEC,IAAI,GAAG,IAAI;IAAEC,OAAO,GAAG;EAAK,CAAC,GAAGJ,MAAM;;EAEtE;EACA,MAAMK,YAAY,GAAGF,IAAI,IAAIC,OAAO,GAAG,cAAc,GAAGD,IAAI,GAAG,MAAM,GAAGC,OAAO,GAAG,SAAS,GAAG,EAAE;;EAEhG;EACA,MAAME,WAAW,GAAGL,OAAO,GAAGA,OAAO,GAAG,GAAG;;EAE3C;EACA,MAAMM,MAAM,GAAGT,WAAW,CAACS,MAAM,EAAE;;EAEnC;EACA,MAAMC,GAAG,GAAGX,KAAK,CAACY,GAAG,CAClB,6CAA4CH,WAAY,SAAQJ,IAAK,YAAWG,YAAa,EAAC,EAC/F;IACEK,WAAW,EAAEH,MAAM,CAACI;EACtB,CAAC,CACF;EAED,OAAO;IAAEH,GAAG;IAAED;EAAO,CAAC;AACxB,CAAC"},"metadata":{},"sourceType":"module"}